# üì± LINE Official Account Integration Guide

## üéØ Overview

‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö LINE Official Account ‡πÄ‡∏û‡∏∑‡πà‡∏≠:
- ‚úÖ ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ú‡πà‡∏≤‡∏ô LINE
- ‚úÖ ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏ú‡πà‡∏≤‡∏ô LINE
- ‚úÖ Auto-reply ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‚úÖ ‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Dashboard ‡πÅ‡∏ö‡∏ö real-time

---

## üöÄ Step 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á LINE Official Account

### 1.1 ‡∏™‡∏£‡πâ‡∏≤‡∏á LINE Developers Account

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [LINE Developers Console](https://developers.line.biz/console/)
2. Login ‡∏î‡πâ‡∏ß‡∏¢ LINE Account (‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà)
3. ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö Terms of Service

### 1.2 ‡∏™‡∏£‡πâ‡∏≤‡∏á Provider

1. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Create a new provider"**
2. ‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠ Provider (‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó/‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à)
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create**

### 1.3 ‡∏™‡∏£‡πâ‡∏≤‡∏á Messaging API Channel

1. ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Provider ‡∏Ñ‡∏•‡∏¥‡∏Å **"Create a new channel"**
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **"Messaging API"**
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   - **Channel name**: ‡∏ä‡∏∑‡πà‡∏≠ Bot (‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô)
   - **Channel description**: ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÅ‡∏ä‡∏ó‡∏ö‡∏≠‡∏ó
   - **Category**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à
   - **Subcategory**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏¢‡πà‡∏≠‡∏¢
   - **Email**: ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
4. ‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö Terms
5. ‡∏Ñ‡∏•‡∏¥‡∏Å **Create**

---

## üîë Step 2: ‡πÄ‡∏Å‡πá‡∏ö API Credentials

### 2.1 Channel ID

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Channel ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà tab **"Basic settings"**
3. ‡∏´‡∏≤ **"Channel ID"** - ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ

### 2.2 Channel Secret

1. ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô tab ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (Basic settings)
2. ‡∏´‡∏≤ **"Channel secret"** - ‡∏Ñ‡∏•‡∏¥‡∏Å Issue ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å

### 2.3 Channel Access Token (Long-lived)

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà tab **"Messaging API"**
2. ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏°‡∏≤‡∏´‡∏≤ **"Channel access token (long-lived)"**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Issue** (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)
4. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Token (‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏î‡∏µ ‡πÜ ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß!)

### 2.4 ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô Environment Variables

‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `.env.local`:

```env
# LINE Configuration
LINE_CHANNEL_ID=your_channel_id_here
LINE_CHANNEL_SECRET=your_channel_secret_here
LINE_CHANNEL_ACCESS_TOKEN=your_long_lived_access_token_here
```

---

## üåê Step 3: Deploy & Setup Webhook

### Option A: Deploy to Vercel (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

#### 3.1 Push to GitHub

```bash
git add .
git commit -m "Add LINE integration"
git push origin main
```

#### 3.2 Deploy to Vercel

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [vercel.com](https://vercel.com)
2. Import repository
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° Environment Variables:
   - `LINE_CHANNEL_ID`
   - `LINE_CHANNEL_SECRET`
   - `LINE_CHANNEL_ACCESS_TOKEN`
   - (‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏à‡∏≤‡∏Å .env.local)
4. Deploy

#### 3.3 Get Webhook URL

‡∏´‡∏•‡∏±‡∏á Deploy ‡πÄ‡∏™‡∏£‡πá‡∏à Vercel ‡∏à‡∏∞‡πÉ‡∏´‡πâ URL ‡πÄ‡∏ä‡πà‡∏ô:
```
https://your-app.vercel.app
```

Webhook URL ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô:
```
https://your-app.vercel.app/api/webhooks/line
```

### Option B: Use ngrok (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Development)

```bash
# Install ngrok
# Download from https://ngrok.com/download

# Run your app
npm run dev

# In another terminal, run ngrok
ngrok http 3000

# ‡∏à‡∏∞‡πÑ‡∏î‡πâ URL ‡πÄ‡∏ä‡πà‡∏ô: https://xxxx-xx-xx-xx-xx.ngrok-free.app
# Webhook URL: https://xxxx-xx-xx-xx-xx.ngrok-free.app/api/webhooks/line
```

---

## ‚öôÔ∏è Step 4: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ LINE Channel

### 4.1 Set Webhook URL

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà LINE Developers Console
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Channel ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà tab **"Messaging API"**
4. ‡∏´‡∏≤ **"Webhook settings"**
5. ‡∏Ñ‡∏•‡∏¥‡∏Å **Edit** ‡∏ó‡∏µ‡πà Webhook URL
6. ‡πÉ‡∏™‡πà URL: `https://your-domain.com/api/webhooks/line`
7. ‡∏Ñ‡∏•‡∏¥‡∏Å **Update**
8. ‡∏Ñ‡∏•‡∏¥‡∏Å **Verify** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ Success)
9. ‡πÄ‡∏õ‡∏¥‡∏î **"Use webhook"** (toggle ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)

### 4.2 ‡∏õ‡∏¥‡∏î Auto-reply ‡∏à‡∏≤‡∏Å LINE

1. ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏°‡∏≤‡∏´‡∏≤ **"Auto-reply messages"**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Edit**
3. **‡∏õ‡∏¥‡∏î** Auto-reply (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏≤)
4. **‡∏õ‡∏¥‡∏î** Greeting messages (‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)

### 4.3 Allow bot to join group chats (Optional)

‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ bot ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÑ‡∏î‡πâ:
1. ‡∏´‡∏≤ **"Allow bot to join group chats"**
2. ‡πÄ‡∏õ‡∏¥‡∏î toggle

---

## üîß Step 5: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Database

### 5.1 Update Channel ‡πÉ‡∏ô Supabase

‡πÄ‡∏Ç‡πâ‡∏≤ Supabase SQL Editor ‡∏£‡∏±‡∏ô:

```sql
-- Update LINE channel status
UPDATE channels 
SET 
  status = 'connected',
  config = jsonb_build_object(
    'channel_id', 'YOUR_LINE_CHANNEL_ID',
    'auto_reply_enabled', true,
    'auto_reply_message', '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏£‡∏µ‡∏ö‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏£‡∏±‡∏ö üôè'
  )
WHERE type = 'line';

-- ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ LINE channel ‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà
INSERT INTO channels (business_id, type, name, status, config)
VALUES (
  'YOUR_BUSINESS_ID',
  'line',
  'LINE Official Account',
  'connected',
  jsonb_build_object(
    'channel_id', 'YOUR_LINE_CHANNEL_ID',
    'auto_reply_enabled', true,
    'auto_reply_message', '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏£‡∏µ‡∏ö‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏£‡∏±‡∏ö üôè'
  )
);
```

---

## üß™ Step 6: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### 6.1 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°

1. ‡πÄ‡∏û‡∏¥‡πà‡∏° LINE Official Account ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô:
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà LINE Developers Console
   - Tab "Messaging API"
   - Scan QR code ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å Bot basic ID

2. ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏õ‡∏ó‡∏µ‡πà Bot

3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Dashboard:
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `/dashboard/inbox`
   - ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô conversation ‡πÉ‡∏´‡∏°‡πà
   - ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤

### 6.2 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°

1. ‡πÉ‡∏ô Dashboard ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà conversation
2. Claim conversation
3. ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô LINE ‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

### 6.3 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Auto-reply

1. ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏õ‡∏ó‡∏µ‡πà Bot
2. ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö auto-reply ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ß‡πâ)
3. ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Dashboard

---

## üêõ Troubleshooting

### ‚ùå Webhook verification failed

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- URL ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- Server ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå
- Environment variables ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö environment variables
echo $LINE_CHANNEL_SECRET

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö endpoint
curl https://your-domain.com/api/webhooks/line

# ‡∏î‡∏π logs ‡πÉ‡∏ô Vercel Dashboard
```

### ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô Dashboard

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:**
1. Webhook URL ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
2. "Use webhook" ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
3. ‡∏î‡∏π Logs ‡πÉ‡∏ô Vercel/Server
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö RLS policies ‡πÉ‡∏ô Supabase

### ‚ùå ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:**
1. Channel Access Token ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
2. LINE user ID ‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô contact metadata ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
3. ‡∏î‡∏π Browser Console ‡πÅ‡∏•‡∏∞ Network tab

### ‚ùå Auto-reply ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:**
1. Channel config ‡∏°‡∏µ `auto_reply_enabled: true` ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
2. ‡∏õ‡∏¥‡∏î auto-reply ‡∏Ç‡∏≠‡∏á LINE ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
3. ‡∏î‡∏π logs ‡∏ß‡πà‡∏≤‡∏°‡∏µ error ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

---

## üìä Monitoring & Logs

### Vercel Logs

```bash
# ‡∏î‡∏π logs ‡πÅ‡∏ö‡∏ö real-time
vercel logs --follow

# ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏π‡πÉ‡∏ô Vercel Dashboard
# Project > Logs
```

### Supabase Logs

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Supabase Dashboard
2. Logs > All logs
3. Filter by "webhooks" ‡∏´‡∏£‡∏∑‡∏≠ "line"

---

## üé® Customize Auto-reply

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç auto-reply message ‡πÉ‡∏ô Supabase:

```sql
UPDATE channels 
SET config = config || jsonb_build_object(
  'auto_reply_enabled', true,
  'auto_reply_message', '‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° auto-reply ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£'
)
WHERE type = 'line';
```

‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á UI ‡πÉ‡∏ô Settings page:

```typescript
// ‡πÉ‡∏ô Settings page
const updateAutoReply = async (message: string) => {
  await supabase
    .from('channels')
    .update({
      config: {
        auto_reply_enabled: true,
        auto_reply_message: message
      }
    })
    .eq('type', 'line')
}
```

---

## üöÄ Next Steps

### ‡πÄ‡∏û‡∏¥‡πà‡∏° Features:

1. **Rich Messages**
   - Flex Message (‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏™‡∏ß‡∏¢‡πÜ)
   - Template Messages (Buttons, Confirm, Carousel)
   - Image/Video/Audio messages

2. **Advanced Features**
   - Quick Reply buttons
   - LINE Login integration
   - LIFF (LINE Front-end Framework)
   - Broadcast messages

3. **Analytics**
   - ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° delivery rate
   - Response time
   - Popular questions

---

## üìö Resources

- [LINE Messaging API Docs](https://developers.line.biz/en/docs/messaging-api/)
- [LINE Bot SDK for Node.js](https://github.com/line/line-bot-sdk-nodejs)
- [LINE Developers Console](https://developers.line.biz/console/)

---

## ‚úÖ Checklist

- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á LINE Official Account
- [ ] ‡πÑ‡∏î‡πâ Channel ID, Secret, Access Token
- [ ] ‡πÄ‡∏û‡∏¥‡πà‡∏° environment variables
- [ ] Deploy to Vercel (‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ ngrok)
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Webhook URL ‡πÉ‡∏ô LINE
- [ ] ‡∏õ‡∏¥‡∏î auto-reply ‡∏Ç‡∏≠‡∏á LINE
- [ ] Update channel status ‡πÉ‡∏ô database
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö auto-reply

---

**üéâ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ä‡∏ó LINE ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£‡πÅ‡∏•‡πâ‡∏ß**

‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢ ‡∏î‡∏π‡∏ó‡∏µ‡πà Troubleshooting section ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö!

